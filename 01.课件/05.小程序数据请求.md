# 小程序数据请求

1. 语法
   1. API:wx.request(配置对象)
   2. 重要属性:
      1. url->代表当前请求路径
         1. 注意:**要书写完整路径**
      2. method->代表当前请求方式,**默认值GET**
      3. **data->代表当前请求参数,数据类型为对象**
         1. **data对象会根据不同的请求方式进行操作**
            1. **GET请求就会自动拼接为query字符串放入路径中**
            2. **POST请求就会作为请求体数据发送**
2. 重要内容:
   1. 服务器域名配置
      1. 上线之前
         1. 流程:
            1. 打开微信公众平台后台系统
            2. 打开开发->开发管理->开发设置
            3. 向下滑动页面,找到服务器域名配置,扫码进入
            4. 将未来需要请求的域名提前配置在对应选项中
      2. 开发中
         1. 流程:
            1. 打开微信开发者工具
            2. 打开详情
            3. 打开本地设置
            4. 勾选"不校验合法域名"即可
   2. 默认超时时间和最大超时时间都是 **60s**；
      1. 如果请求超过了最大超时时间,就会变为404失败状态
   3. wx.request的最大并发限制是 **10 个**,Chrome和Firefox浏览器请求最大并发数是**6个**
   4. 小程序进入后台运行后，如果 **5s** 内网络请求没有结束,自动视为请求失败
   5. **只要成功接收到服务器返回，无论 statusCode 是多少，都会进入 success 回调。请开发者根据业务逻辑对返回值进行判断**
   6. **小程序必须使用 HTTPS/WSS 发起网络请求**