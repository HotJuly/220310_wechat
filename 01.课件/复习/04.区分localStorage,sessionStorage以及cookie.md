# 区分localStorage,sessionStorage以及cookie

1. 生命周期
   1. cookie
      1. 设置了max-age属性,如果超过最大超时时间,那么内部的数据就会丢失,反之永久存储
      2. 没有设置max-age属性,相当于是**会话级cookie**,也就是说关闭标签页或者浏览器,才能出的数据就会丢失
   2. localStorage(持久化存储)
      1. 只要不手动删除存储的数据,数据将会永久存储
   3. sessionStorage(会话级存储)
      1. 如果关闭当前标签页或者关闭浏览器,那么存储的数据将会丢失
2. 存储位置
   1. cookie
      1. 设置了max-age属性,存储于硬盘中
      2. 没有设置max-age属性,存储于内存中
   2. localStorage(持久化存储)
      1. 存储于硬盘中
   3. sessionStorage(会话级存储)
      1. 存储于内存中
3. 存储大小
   1. cookie->4KB
   2. localStorage->5MB
   3. sessionStorage->5MB
4. 作用范围
   1. cookie
      1. domain属性
         1. 例如:domain="baidu.com"
         2. 意思是该cookie可以被自己和自己的子域名进行访问使用
      2. path属性
         1. 例如:path="/a"
         2. 意思是该cookie可以被自己和自己的子路由进行访问使用
      3. 小总结:儿子可以使用父亲的,父亲不能使用儿子的,兄弟不能使用兄弟的
   2. localStorage
      1. 如果多个标签页的域名相同,那么可以共享localStorage
   3. sessionStorage
      1. 只能在当前标签页中使用
         1. 复制标签页的话,会顺带复制sessionStorage,但是不共通
5. 与服务器之间的关系
   1. cookie(被借用的本地存储)
      1. 服务器创建,浏览器存储
      2. 每次发送请求都会自动携带上相关的cookie数据
      3. 服务器通过给响应头添加**set-cookie属性**,来向浏览器返回cookie数据
      4. 浏览器会通过给请求头添加**cookie属性**,将存储的cookie数据发送给浏览器
      5. 小总结:**浏览器会自动存储和发送cookie,比服务器强太多了,服务器只会返回数据**
   2. localStorage
      1. 与服务器不熟,没有关系
   3. sessionStorage
      1. 与服务器不熟,没有关系
6. 面试题:跨标签页通信
   1. 前言:发送数据的页面称为A页面,接收数据的页面成为B页面
   2. 方案一:使用localStorage实现跨标签页通信
      1. B页面先给自己的window对象绑定storage事件,并写好回调函数
      2. A页面使用setItem方法,将数据存入到localStorage中,就能触发B页面的监听
   3. 方案二:使用路径传参
      1. 当A页面跳转B页面的时候,在跳转路径中拼接数据即可
      2. B页面可以通过location对象获取到路径中的数据
      3. 注意:该方案只能使用在传递一次参数的情况下,因为只有跳转的一瞬间能传递数据
7. 请问,token与上述三者的区别
   1. 本质:他是一个字符串(数据)
   2. 关系:平常我们开发中,会将服务器返回的token数据保存在上述三种技术中

